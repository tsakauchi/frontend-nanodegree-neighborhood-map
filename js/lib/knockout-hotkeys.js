define(["knockout"],function(a){var b=["keydown","keyup","keypress"];a.utils.arrayForEach(b,function(b){a.bindingHandlers["hot"+b]={init:function(c,d,e,f){var g=function(){var a={};return a[b]=d(),a};return a.bindingHandlers._hotkey.init.call(this,c,g,e,f)}}}),a.bindingHandlers._hotkey={init:function(b,c,d,e){var f=d(),g=c();for(var h in g)!function(){var b=h,c=g[b];c.constructor!=Array&&(c=[c]);for(var d=c.length,i=0;d>i;i++)!function(){var d,g,h=i,j=c[h];if("key"in j&&"do"in j)d=j.key,g=j["do"];else for(var k in j)if("if"!==k){d=k,g=j[k];break}void 0!==d&&void 0!==g&&(d=d.toLowerCase().replace("+",""),a.utils.registerEventHandler(a.hotkeys.defaultOptions.bindElement,b,function(c){var h="keypress"!==c.type&&a.hotkeys.keymap.specialKeys[c.which],i=String.fromCharCode(c.which).toLowerCase(),k="",l={};if(c.altKey&&"alt"!==h&&(k+="alt"),c.ctrlKey&&"ctrl"!==h&&(k+="ctrl"),c.metaKey&&!c.ctrlKey&&"meta"!==h&&(k+="meta"),c.shiftKey&&"shift"!==h&&(k+="shift"),h?l[k+h]=!0:(l[k+i]=!0,l[k+a.hotkeys.keymap.shiftNums[i]]=!0,"shift"===k&&(l[a.hotkeys.keymap.shiftNums[i]]=!0)),l[d]){var m;try{"if"in j&&!a.utils.unwrapObservable(j["if"])||(m=g.apply(e,[e,c]))}finally{m!==!0&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}var n=f[b+"Bubble"]!==!1;n||(c.cancelBubble=!0,c.stopPropagation&&c.stopPropagation())}}))}()}()}},a.hotkeys=a.hotkeys||{},a.hotkeys.defaultOptions={bindElement:window},a.hotkeys.keymap={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}}});